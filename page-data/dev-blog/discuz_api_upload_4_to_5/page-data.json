{"componentChunkName":"component---src-templates-blog-post-js","path":"/dev-blog/discuz_api_upload_4_to_5/","result":{"data":{"site":{"siteMetadata":{"title":"Discuz Hub"}},"markdownRemark":{"id":"993fb275-0390-52cc-b675-8f6a7330d2ac","excerpt":"简介 我们最近收到来自一些论坛管理者的针对某些特定功能的来信，经过我们的调查，我们发现很多功能都在Discuz X掌上论坛的新版本中实现了，因此我们决定着手支持高级版本的掌上论坛API。因此我们再次请求各位论坛主升级API至…","frontmatter":{"title":"推荐升级Discuz X掌上论坛API","date":"October 17, 2020","description":null,"cover":"harbin-cathedral.jpg","excerpt":"我们推荐您将论坛默认4版本的掌上论坛API升级至5这个版本以获得更好的用户体验","keywords":["建议"],"tags":["建议"]},"html":"<h1>简介</h1>\n<p>我们最近收到来自一些论坛管理者的针对某些特定功能的来信，经过我们的调查，我们发现很多功能都在Discuz X掌上论坛的新版本中实现了，因此我们决定着手支持高级版本的掌上论坛API。因此我们再次请求各位论坛主升级API至5这个版本已实现更多的功能。</p>\n<p>我们目前已经接近完成了对于版本号为4的API的适配工作，我们正准备着手针对API5的支持，我们预计在2.7（也就是下个版本）着手针对5的功能支持。</p>\n<h1>升级步骤</h1>\n<ol>\n<li>转到<a href=\"https://github.com/Comsenz/Discuz-Api\">Github托管下的Discuz-API</a></li>\n<li>按照<code>README.md</code>的使用方法更新掌上论坛API</li>\n<li>完成更新</li>\n</ol>\n<h2>使用方法</h2>\n<p><strong>此文本于2020年10月17日取自Github README.md</strong></p>\n<blockquote>\n<h2>使用方法</h2>\n<ul>\n<li>修改配置文件，config_oauths.php， 将申请好的小程序 appkey appsecret 修改好</li>\n<li>把mobile目录覆盖(合并，注意不要<strong>替换</strong>否刚会把当前文件夹先删除换成现在的)discuz source/plugin/mobile目录</li>\n<li>进入论坛后台，进入应用，找到 <strong>掌上论坛</strong> 插件（如果没有启用先启用), 点后面的更新到1.5.1（最新版）</li>\n<li>进入论坛管理后台，全局->手机版访问设置->开启手机版（必须开启手机版，否则API无法正常使用）</li>\n<li>修改小程序配置文件，将域名换成您网站域名 小程序源码地址：<a href=\"https://github.com/Comsenz/Discuz-minapp\">https://github.com/Comsenz/Discuz-minapp</a></li>\n<li>上传小程序测试</li>\n<li>该接口也适用于App调用(支持QQ和微信登录)，APP源码地址：iOS <a href=\"https://github.com/Comsenz/Discuz-iOS\">https://github.com/Comsenz/Discuz-iOS</a> ，Android <a href=\"https://github.com/Comsenz/Discuz-Android\">https://github.com/Comsenz/Discuz-Android</a></li>\n</ul>\n</blockquote>\n<h1>会有什么变化</h1>\n<ul>\n<li>将会支持更多的功能</li>\n<li>能够保持对于API 4的兼容</li>\n</ul>\n<h1>API 5标识</h1>\n<p>我们将会在论坛中标识出<span style=\"color:var(--theme-ui-colors-background,#3498db)\">最新API</span>的支持。</p>\n<h1>更新计划</h1>\n<p>我们将会在内部测试后尽速发布2.6版本，这个版本将会适配目前API 4的大部分功能。</p>\n<p>如果您对于我们有任何建议、意见以及反馈，您可以通过<a href=\"/contact/\">联系方式</a>来联系我们。我们非常欢迎您的来信！</p>\n<p>感谢您的支持。</p>","tableOfContents":"<ul>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E7%AE%80%E4%BB%8B\">简介</a></li>\n<li>\n<p><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E5%8D%87%E7%BA%A7%E6%AD%A5%E9%AA%A4\">升级步骤</a></p>\n<ul>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\">使用方法</a></li>\n</ul>\n</li>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%8F%98%E5%8C%96\">会有什么变化</a></li>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#api-5%E6%A0%87%E8%AF%86\">API 5标识</a></li>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E6%9B%B4%E6%96%B0%E8%AE%A1%E5%88%92\">更新计划</a></li>\n</ul>","timeToRead":2}},"pageContext":{"slug":"/dev-blog/discuz_api_upload_4_to_5/","previous":{"fields":{"slug":"/dev-blog/remove-weiyun-release-channel/"},"frontmatter":{"title":"移除微云下载链接"}},"next":{"fields":{"slug":"/dev-blog/release-v2.6/"},"frontmatter":{"title":"2.6版本已发布"}},"language":"zh","intl":{"language":"zh","languages":["en","zh","zh-hk"],"messages":{"title":"Discuz Hub","description":"轻量开源的Discuz！论坛应用","intro.title":"Discuz Hub","intro.description":"轻量开源的Discuz！论坛应用","intro.function_annotate":"需要开启论坛的手机页面同时关闭防捕捉模式","intro.download_by_github":"通过Github发布下载","intro.download_by_weiyun":"通过腾讯微云下载","intro.project_at_github":"托管于Github上的项目","intro.lightweight":"轻量的","intro.discuz_app":"Discuz!安卓应用","intro.administrator_note":"版主吗？你可以在这里配置你的论坛以兼容我们的应用👉","feature.features":"特性","feature.lightweight":"轻量化","feature.lightweight_annotate":"APK安装包不到20M，支持完整的Discuz！发帖任务","feature.open_source":"开源软件","feature.open_source_annotate":"本项目基于MIT开源协议开源，项目托管于Github上","feature.android_support":"Android Q 支持","feature.android_support_annotate":"应用支持诸多Android Q的新特性（比如深色模式，新的文件管理方式等）","feature.green_android_convention_support":"全面支持Android绿色公约","feature.green_android_convention_support_annotate":"应用遵循第4版Android绿色公约进行设计","feature.download_by_github":"通过Github release下载","feature.project_at_github":"在Github的项目","about.about":"关于","about.about_description":"本项目基于MIT协议开源","about.roadmap":"技术路线图","about.roadmap_1":"对于个人用户发帖的历史记录","about.roadmap_2":"对于论坛原生验证码的支持","contact.contact":"联系","contact.contact_description":"你可以通过下面的方式联系到我们","contact.contact_1":"kidozh@gmail.com(开发者邮箱)","contact.contact_2":"在Github上托管的DiscuzHub项目","contact.github_action_acknowledged":"感谢对于本项目的Fork，Star或者PR.","contact.contact_us":"联系我们","contact.email":"邮件","contact.github":"Github","nav.blog":"开发者博客","nav.contact":"联系我","nav.faq":"常见问题集","nav.features":"功能","nav.privacy":"隐私政策","nav.terms_of_use":"使用条款","footer.copyright":"版权所有","footer.copyright_rights_reserved":"权利保留","footer.docs_with":"使用文本协议：","footer.contact_1":"kidozh@gmail.com(开发者邮箱)","footer.contact_2":"在Github上托管的DiscuzHub项目","footer.github_action_acknowledged":"感谢对于本项目的Fork，Star或者PR.","footer.notice":"提示","footer.links":"链接","footer.light":"浅色模式","footer.dark":"深色模式","blog.blog":"开发者博客","blog.blog_annotation":"你可以在这里获取应用的更新、安全和计划等信息🧐","blog.timeToReadUnit":"{min} 分钟","blog.publishTime":"发表于 {time}","blog.allPostCounts":"共计 {posts} 文章","author":"@kidozh","hello":"好~","notfound.header":"无法找到资源🤔","notfound.description":"这里空空如也，你是怎么到达这里的？","test-my-bbs.title":"测试我的论坛是否支持DiscuzHub","test-my-bbs.data-source-note":"该页面将会使用您的浏览器来访问论坛应用接口，请确保您当前能正常访问BBS","test-my-bbs.url":"网址","test-my-bbs.submit":"提交","test-my-bbs.warn_suggestion":"建议","test-my-bbs.warn_enter_to_check_problem":"点击回车以获得错误提示","test-my-bbs.warn_need_protocol":"您需要加上HTTP或者HTTPS前缀","test-my-bbs.api_full_text":"将会访问: {fullApi}","test-my-bbs.url_example":"网页链接例子","test-my-bbs.discuz_version":"Discuz! 版本","test-my-bbs.charset":"编码格式","test-my-bbs.api_version":"API 版本","test-my-bbs.plugin_version":"插件版本","test-my-bbs.register_name":"注册替代名","test-my-bbs.qq_connect":"QQ互联","test-my-bbs.hide_register":"注册渠道被隐藏？","test-my-bbs.site_name":"论坛名称","test-my-bbs.site_id":"网站ID","test-my-bbs.ucenter_url":"Ucenter链接","test-my-bbs.default_fid":"默认论坛ID","test-my-bbs.total_post":"发帖数","test-my-bbs.total_members":"用户数","test-my-bbs.test_cookie":"测试Cookie","test-my-bbs.yes":"是","test-my-bbs.no":"否","test-my-bbs.key":"名称","test-my-bbs.value":"值","test-my-bbs.compatible":"合适","test-my-bbs.result_ok":"成功获得响应","test-my-bbs.result_failed":"无法访问您的论坛，状态码为 {code}","test-my-bbs.raw_result":"原始结果","test-my-bbs.attributes":"属性","test-my-bbs.redirect_by_cross_anywhere":"由cross anywhere执行重定向访问","test-my-bbs.ajax_send_request":"向{url}发送请求","test-my-bbs.bbs_pass_result":"你的论坛已经通过兼容性测试","test-my-bbs.bbs_not_pass_result":"抱歉，您的论坛并未通过兼容性测试，你可以联系网站管理员开启Discuz移动版","test-my-bbs.loading_data":"从服务器{url}取得数据中。。。","test-my-bbs.app_add_guide":"你可以通过链接 {url} 向discuzHub添加论坛 {name} ","test-my-bbs.example":"例子","back_to_top":"回到顶部","faq.faq":"常见问题","faq.faq_full":"常见问题集","privacy.privacy_policy":"隐私政策","privacy.welcome_to_read":"欢迎阅读本应用的隐私政策","term_of_service.term_of_service":"使用条款","term_of_service.welcome_to_read":"欢迎阅读本使用条款","index.cross_platform_title":"兼容大部分discuz! 论坛","index.cross_platform_content":"使用DiscuzHub浏览绝大多数论坛，并且他们进行正常的交互活动 - 从发帖、文斗、私信到投票，正如你平常浏览一样","index.speed_and_performance_title":"速度与性（ji）能（qing）","index.speed_and_performance_content":"通过官方API以及服从绿色Android公约要求，仅仅6MB就能实现绝大多数的论坛交互。相对于正常网页浏览和交互，Discuz！有助于节省流量 \n DiscuzHub能让你有效的掌握可交互性。您可以通过各种方式实现对于网站的登录，并且免于密码存储致使的密码泄露","index.powerful_tool_title":"美妙的工具","index.powerful_tool_content":"通过各种各样的稳健的库，DiscuzHub能够优雅的实现绝大多数的论坛的交互。使用官方的API，能够使得您在使用应用访问各种各样的论坛时，都获得均一而稳定的服务，同时也有益于防止因Javascript错误执行而引发的CSRF和XSS风险。","index.open_source_title":"开源软件","index.open_source_content":"基于MIT开源协议授权，您可以自由地对DiscuzHub进行检查、修改以及重新发布。您可以按照您的需求对于DiscuzHub进行自由的探索。","index.fork_on_github_title":"帮助我们！","index.fork_on_github_content":"您可以通过Github对我们的App进行分支、合并请求来帮助我们做得更好。也非常欢迎您通过Issue方法向我们提出您的意见和建议，非常感谢您的帮助和支持。","open_source.open_source_title":"开源软件许可","open_source.open_source_subtitle":"我们使用下面的库以构建本应用","open_source.discuzHub_licence_description":"DiscuzHub以MIT协议开源","compatibility.compatibility_title":"为DiscuzHub展示优化","compatibility.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","compatibility.discuzHub_licence_description":"DiscuzHub以MIT协议开源","customize.customize_title":"构建专属某个论坛的应用","customize.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","customize.discuzHub_licence_description":"DiscuzHub以MIT协议开源","add_bbs.add_bbs_title":"用户添加论坛指引","add_bbs.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","add_bbs.discuzHub_licence_description":"DiscuzHub以MIT协议开源"},"routed":false,"originalPath":"/dev-blog/discuz_api_upload_4_to_5/","redirect":true,"defaultLanguage":"zh"}}},"staticQueryHashes":["1453463915","1479120382","3000541721"]}