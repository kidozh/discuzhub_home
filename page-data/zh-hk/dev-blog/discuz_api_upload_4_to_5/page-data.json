{"componentChunkName":"component---src-templates-blog-post-js","path":"/zh-hk/dev-blog/discuz_api_upload_4_to_5/","result":{"data":{"site":{"siteMetadata":{"title":"Discuz Hub"}},"markdownRemark":{"id":"993fb275-0390-52cc-b675-8f6a7330d2ac","excerpt":"简介 我们最近收到来自一些论坛管理者的针对某些特定功能的来信，经过我们的调查，我们发现很多功能都在Discuz X掌上论坛的新版本中实现了，因此我们决定着手支持高级版本的掌上论坛API。因此我们再次请求各位论坛主升级API至…","frontmatter":{"title":"推荐升级Discuz X掌上论坛API","date":"October 17, 2020","description":null,"cover":"harbin-cathedral.jpg","excerpt":"我们推荐您将论坛默认4版本的掌上论坛API升级至5这个版本以获得更好的用户体验","keywords":["建议"],"tags":["建议"]},"html":"<h1>简介</h1>\n<p>我们最近收到来自一些论坛管理者的针对某些特定功能的来信，经过我们的调查，我们发现很多功能都在Discuz X掌上论坛的新版本中实现了，因此我们决定着手支持高级版本的掌上论坛API。因此我们再次请求各位论坛主升级API至5这个版本已实现更多的功能。</p>\n<p>我们目前已经接近完成了对于版本号为4的API的适配工作，我们正准备着手针对API5的支持，我们预计在2.7（也就是下个版本）着手针对5的功能支持。</p>\n<h1>升级步骤</h1>\n<ol>\n<li>转到<a href=\"https://github.com/Comsenz/Discuz-Api\">Github托管下的Discuz-API</a></li>\n<li>按照<code class=\"language-text\">README.md</code>的使用方法更新掌上论坛API</li>\n<li>完成更新</li>\n</ol>\n<h2>使用方法</h2>\n<p><strong>此文本于2020年10月17日取自Github README.md</strong></p>\n<blockquote>\n<h2>使用方法</h2>\n<ul>\n<li>修改配置文件，config_oauths.php， 将申请好的小程序 appkey appsecret 修改好</li>\n<li>把mobile目录覆盖(合并，注意不要<strong>替换</strong>否刚会把当前文件夹先删除换成现在的)discuz source/plugin/mobile目录</li>\n<li>进入论坛后台，进入应用，找到 <strong>掌上论坛</strong> 插件（如果没有启用先启用), 点后面的更新到1.5.1（最新版）</li>\n<li>进入论坛管理后台，全局->手机版访问设置->开启手机版（必须开启手机版，否则API无法正常使用）</li>\n<li>修改小程序配置文件，将域名换成您网站域名 小程序源码地址：<a href=\"https://github.com/Comsenz/Discuz-minapp\">https://github.com/Comsenz/Discuz-minapp</a></li>\n<li>上传小程序测试</li>\n<li>该接口也适用于App调用(支持QQ和微信登录)，APP源码地址：iOS <a href=\"https://github.com/Comsenz/Discuz-iOS\">https://github.com/Comsenz/Discuz-iOS</a> ，Android <a href=\"https://github.com/Comsenz/Discuz-Android\">https://github.com/Comsenz/Discuz-Android</a></li>\n</ul>\n</blockquote>\n<h1>会有什么变化</h1>\n<ul>\n<li>将会支持更多的功能</li>\n<li>能够保持对于API 4的兼容</li>\n</ul>\n<h1>API 5标识</h1>\n<p>我们将会在论坛中标识出<span style=\"color:var(--theme-ui-colors-background,#3498db)\">最新API</span>的支持。</p>\n<h1>更新计划</h1>\n<p>我们将会在内部测试后尽速发布2.6版本，这个版本将会适配目前API 4的大部分功能。</p>\n<p>如果您对于我们有任何建议、意见以及反馈，您可以通过<a href=\"/contact/\">联系方式</a>来联系我们。我们非常欢迎您的来信！</p>\n<p>感谢您的支持。</p>","tableOfContents":"<ul>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E7%AE%80%E4%BB%8B\">简介</a></li>\n<li>\n<p><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E5%8D%87%E7%BA%A7%E6%AD%A5%E9%AA%A4\">升级步骤</a></p>\n<ul>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\">使用方法</a></li>\n</ul>\n</li>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%8F%98%E5%8C%96\">会有什么变化</a></li>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#api-5%E6%A0%87%E8%AF%86\">API 5标识</a></li>\n<li><a href=\"/dev-blog/discuz_api_upload_4_to_5/#%E6%9B%B4%E6%96%B0%E8%AE%A1%E5%88%92\">更新计划</a></li>\n</ul>","timeToRead":2}},"pageContext":{"slug":"/dev-blog/discuz_api_upload_4_to_5/","previous":{"fields":{"slug":"/dev-blog/remove-weiyun-release-channel/"},"frontmatter":{"title":"移除微云下载链接"}},"next":{"fields":{"slug":"/dev-blog/release-v2.6/"},"frontmatter":{"title":"2.6版本已发布"}},"language":"zh-hk","intl":{"language":"zh-hk","languages":["en","zh","zh-hk"],"messages":{"title":"Discuz Hub","description":"輕量開源的Discuz！論壇應用","intro.title":"Discuz Hub","intro.description":"輕量開源的Discuz！論壇應用","intro.function_annotate":"需要開啟論壇的手機頁面同時關閉防捕捉模式","intro.download_by_github":"通過Github發布下載","intro.download_by_weiyun":"通過騰訊微雲下載","intro.project_at_github":"項目地址","intro.lightweight":"輕量的","intro.discuz_app":"Discuz!安卓應用","intro.administrator_note":"版主嗎？你可以在這裡配置你的論壇以兼容我們的應用👉","feature.features":"特性","feature.lightweight":"輕量化","feature.lightweight_annotate":"APK安裝包不到20M，支持完整的Discuz！發帖任務","feature.open_source":"開源軟件","feature.open_source_annotate":"本項目基於MIT開源協議開源，項目託管於Github上","feature.android_support":"Android Q 支持","feature.android_support_annotate":"應用支持諸多Android Q的新特性（比如深色模式，新的文件管理方式等）","feature.green_android_convention_support":"全面支持Android綠色公約","feature.green_android_convention_support_annotate":"應用遵循第4版Android綠色公約進行設計","feature.download_by_github":"通過Github release下載","feature.project_at_github":"在Github的項目","about.about":"關於","about.about_description":"本項目基於MIT協議開源","about.roadmap":"技術路線圖","about.roadmap_1":"對於個人用戶發帖的歷史記錄","about.roadmap_2":"對於論壇原生驗證碼的支持","contact.contact":"聯繫","contact.contact_description":"你可以通過下面的方式聯繫到我們","contact.contact_1":"kidozh@gmail.com(開發者郵箱)","contact.contact_2":"在Github上託管的DiscuzHub項目","contact.github_action_acknowledged":"感謝對於本項目的Fork，Star或者PR.","contact.contact_us":"聯繫我們","contact.email":"郵件","contact.github":"Github","nav.blog":"開發者博客","nav.contact":"聯繫我","nav.faq":"常見問題集","nav.features":"功能","nav.privacy":"隱私政策","nav.terms_of_use":"使用條款","footer.copyright":"版權所有","footer.copyright_rights_reserved":"權利保留","footer.docs_with":"使用文本協議：","footer.contact_1":"kidozh@gmail.com(開發者郵箱)","footer.contact_2":"在Github上託管的DiscuzHub項目","footer.github_action_acknowledged":"感謝對於本項目的Fork，Star或者PR.","footer.notice":"提示","footer.links":"鏈接","footer.light":"淺色模式","footer.dark":"深色模式","blog.blog":"開發者博客","blog.blog_annotation":"你可以在這裡獲取應用的更新、安全和計劃等信息🧐","blog.timeToReadUnit":"{min} 分鐘","blog.publishTime":"發表於 {time}","blog.allPostCounts":"共計 {posts} 文章","author":"@kidozh","hello":"好~","notfound.header":"無法找到資源🤔","notfound.description":"這裡空空如也，你是怎麼到達這裡的？","test-my-bbs.title":"測試我的論壇是否支持DiscuzHub","test-my-bbs.data-source-note":"該頁面將會使用您的瀏覽器來訪問論壇應用接口，請確保您當前能正常訪問BBS","test-my-bbs.url":"網址","test-my-bbs.submit":"提交","test-my-bbs.warn_suggestion":"建議","test-my-bbs.warn_enter_to_check_problem":"點擊回車以獲得錯誤提示","test-my-bbs.warn_need_protocol":"您需要加上HTTP或者HTTPS前綴","test-my-bbs.api_full_text":"將會訪問: {fullApi}","test-my-bbs.url_example":"網頁鏈接例子","test-my-bbs.discuz_version":"Discuz! 版本","test-my-bbs.charset":"編碼格式","test-my-bbs.api_version":"API 版本","test-my-bbs.plugin_version":"插件版本","test-my-bbs.register_name":"註冊替代名","test-my-bbs.qq_connect":"QQ互聯","test-my-bbs.hide_register":"註冊渠道被隱藏？","test-my-bbs.site_name":"論壇名稱","test-my-bbs.site_id":"網站ID","test-my-bbs.ucenter_url":"Ucenter鏈接","test-my-bbs.default_fid":"默認論壇ID","test-my-bbs.total_post":"發帖數","test-my-bbs.total_members":"用戶數","test-my-bbs.test_cookie":"測試Cookie","test-my-bbs.yes":"是","test-my-bbs.no":"否","test-my-bbs.key":"名稱","test-my-bbs.value":"值","test-my-bbs.compatible":"合適","test-my-bbs.result_ok":"成功獲得響應","test-my-bbs.result_failed":"無法訪問您的論壇，狀態碼為 {code}","test-my-bbs.raw_result":"原始結果","test-my-bbs.attributes":"屬性","test-my-bbs.redirect_by_cross_anywhere":"由cross anywhere執行重定向訪問","test-my-bbs.ajax_send_request":"向{url}發送請求","test-my-bbs.bbs_pass_result":"你的論壇已經通過兼容性測試","test-my-bbs.bbs_not_pass_result":"抱歉，您的論壇並未通過兼容性測試，你可以聯繫網站管理員開啟Discuz移動版","test-my-bbs.loading_data":"從服務器{url}取得數據中。。。","test-my-bbs.app_add_guide":"你可以通過鏈接 {url} 向discuzHub添加論壇 {name} ","test-my-bbs.example":"例子","back_to_top":"回到頂部","faq.faq":"常見問題","faq.faq_full":"常見問題集","privacy.privacy_policy":"隱私政策","privacy.welcome_to_read":"歡迎閱讀本應用的隱私政策","term_of_service.term_of_service":"使用條款","term_of_service.welcome_to_read":"歡迎閱讀本使用條款","index.cross_platform_title":"橫跨大部分discuz! 論壇","index.cross_platform_content":"使用DiscuzHub瀏覽絕大多數論壇，並且他們進行正常的交互活動 - 從發帖、文鬥、私信到投票，正如你平常瀏覽一樣","index.speed_and_performance_title":"速度與性（ji）能（qing）","index.speed_and_performance_content":"通過官方API以及服從綠色Android公約要求，僅僅6MB就能實現絕大多數的論壇交互。相對於正常網頁瀏覽和交互，Discuz！有助於節省流量\n DiscuzHub能讓你有效的掌握可交互性。您可以通過各種方式實現對於網站的登錄，並且免於密碼存儲致使的密碼洩露","index.powerful_tool_title":"美妙的工具","index.powerful_tool_content":"通過各種各樣的穩健的庫，DiscuzHub能夠優雅的實現絕大多數的論壇的交互。使用官方的API，能夠使得您在使用應用訪問各種各樣的論壇時，都獲得均一而穩定的服務，同時也有益於防止因Javascript錯誤執行而引發的CSRF和XSS風險。","index.open_source_title":"開源軟件","index.open_source_content":"基於MIT開源協議授權，您可以自由地對DiscuzHub進行檢查、修改以及重新發布。您可以按照您的需求對於DiscuzHub進行自由的探索。","index.fork_on_github_title":"幫助我們！","index.fork_on_github_content":"您可以通過Github對我們的App進行分支、合併請求來幫助我們做得更好。也非常歡迎您通過Issue方法向我們提出您的意見和建議，非常感謝您的幫助和支持。 ","open_source.open_source_title":"開源軟件許可","open_source.open_source_subtitle":"我們使用下面的庫以構建本應用","open_source.discuzHub_licence_description":"DiscuzHub以MIT協議開源","compatibility.compatibility_title":"Discuz！論壇兼容DiscuzHub列表","compatibility.compatibility_subtitle":"版主可以使用下面的設置以更好地使你的論壇展示在DiscuzHub上","compatibility.discuzHub_licence_description":"BLANK","customize.customize_title":"構建專屬某個論壇的應用","customize.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","customize.discuzHub_licence_description":"DiscuzHub以MIT协议开源","add_bbs.add_bbs_title":"用户添加论坛指引","add_bbs.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","add_bbs.discuzHub_licence_description":"DiscuzHub以MIT协议开源"},"routed":true,"originalPath":"/dev-blog/discuz_api_upload_4_to_5/","redirect":true,"defaultLanguage":"zh"}}},"staticQueryHashes":["1453463915","1479120382","3000541721"]}