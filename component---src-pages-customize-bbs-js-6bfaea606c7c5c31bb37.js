(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"8o2o":function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,l={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(l[n]=e[n]);return l}n.d(t,"a",(function(){return i}))},B2PW:function(e,t,n){var i=n("TGkP"),l=function(e){return i(e)[0]};e.exports=function(e){return null==e&&(e=e),function(t,n,o,r){null==o&&(o=e),null==r&&(r=o);var b=function(e){return i(e)[1]}(t);if(b===n)return t;var a=l(t);if("px"!==b)if("em"===b)a=l(t)*l(o);else if("rem"===b)a=l(t)*l(e);else{if("ex"!==b)return t;a=l(t)*l(o)*2}var c=a;if("px"!==n)if("em"===n)c=a/l(r);else if("rem"===n)c=a/l(e);else{if("ex"!==n)return t;c=a/l(r)/2}return parseFloat(c.toFixed(5))+n}}},"Eb/5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LARGER_DISPLAY_WIDTH="1600px",t.LARGE_DISPLAY_WIDTH="1280px",t.DEFAULT_WIDTH="980px",t.TABLET_WIDTH="768px",t.MOBILE_WIDTH="480px",t.LARGER_DISPLAY_MEDIA_QUERY="@media only screen and (max-width:1600px)",t.LARGE_DISPLAY_MEDIA_QUERY="@media only screen and (max-width:1280px)",t.DEFAULT_MEDIA_QUERY="@media only screen and (max-width:980px)",t.TABLET_MEDIA_QUERY="@media only screen and (max-width:768px)",t.MOBILE_MEDIA_QUERY="@media only screen and (max-width:480px)",t.MIN_LARGER_DISPLAY_MEDIA_QUERY="@media (min-width:1600px)",t.MIN_LARGE_DISPLAY_MEDIA_QUERY="@media (min-width:1280px)",t.MIN_DEFAULT_MEDIA_QUERY="@media (min-width:980px)",t.MIN_TABLET_MEDIA_QUERY="@media (min-width:768px)",t.MIN_MOBILE_MEDIA_QUERY="@media (min-width:480px)"},FwpG:function(e,t,n){"use strict";n("q1tI");var i=n("izhR"),l=n("2A+t"),o=n("MXbp"),r=n("kCIJ"),b=n("Bl7J"),a=n("Wbzz"),c=(n("ki+i"),n("aehL"),n("YVoz")),u=n.n(c);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={fontFamily:"heading",lineHeight:"heading",fontWeight:"heading"},d={root:{fontFamily:"body",fontSize:2,fontWeight:"body",lineHeight:"body"},img:{maxWidth:"100%"},h1:u()({fontSize:5},p),h2:u()({fontSize:4},p),h3:u()({fontSize:3},p),h4:u()({fontSize:2},p),h5:u()({fontSize:1},p),h6:u()({fontSize:0},p),ul:{listStylePosition:"outside",listStyleImage:"none",ml:3},ol:{listStylePosition:"outside",listStyleImage:"none",ml:3},li:{mb:2,pl:0,ol:{my:2,ml:3},ul:{my:2,ml:3},p:{mb:2}},p:{},table:{borderCollapse:"collapse",width:"100%"},th:{textAlign:"left",borderBottom:"1px solid",px:2,py:1,":first-child":{pl:0},":last-child":{pr:0}},td:{textAlign:"left",borderBottom:"1px solid",px:2,py:1,mt:"-1px",":first-child":{pl:0},":last-child":{pr:0}},blockquote:{mx:3},hr:{border:0,borderBottom:"1px solid",mt:"-1px",mb:3},b:{fontWeight:"bold"},strong:{fontWeight:"bold"},code:{fontSize:"85%"},pre:{fontSize:"85%",padding:3}};[].concat(["h6","h5","h4","h3","h2","h1"],["ul","ol","p","pre","table","blockquote","img","hr"]).forEach((function(e){u()(d,s({},e,u()({padding:0,margin:0,marginBottom:3},d[e])))}));n("Z5ny"),n("qKvR"),i.k.h1,i.k.h2,i.k.h3,i.k.h4,i.k.h5,i.k.h6,i.s,i.o,t.a=function(e){var t=e.subject,n=e.children,c=(Object(r.useIntl)(),Object(a.useStaticQuery)("3348891086"));return Object(l.c)(b.a,{title:t},Object(l.c)(i.g,{sx:{bg:"primary",p:4}},Object(l.c)(o.b.h1,{sx:{color:"white",textAlign:"center",fontWeight:600}},t),Object(l.c)(o.b.p,{sx:{color:"white",textAlign:"center"}},c.site.siteMetadata.title)),Object(l.c)(i.g,{as:"article",sx:{px:[2,4,6],py:[2,4,6],pt:[1,2,2],pb:[1,2,2]}},Object(l.c)(o.a,{components:{a:i.o}}),n))}},TGkP:function(e,t){e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},Z5ny:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n("aZJH"),r=(i=o)&&i.__esModule?i:{default:i},b=n("Eb/5");var a={title:"Grand View",baseFontSize:"16px",baseLineHeight:1.6875,googleFonts:[{name:"Montserrat",styles:["700"]},{name:"Arvo",styles:["400","400i","700"]}],headerFontFamily:["Montserrat","sans-serif"],bodyFontFamily:["Arvo","sans-serif"],headerColor:"hsla(0,0%,0%,1)",bodyColor:"hsla(0,0%,0%,0.8)",headerWeight:700,bodyWeight:400,boldWeight:700,overrideStyles:function(e,t){var n=e.adjustFontSizeTo,i=e.scale,o=e.rhythm;return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({a:{color:"#d65947",textDecoration:"none"},"a:hover,a:active":{color:t.bodyColor},"h1,h2,h3,h4,h5,h6":{marginTop:o(2)},blockquote:l({},i(.2),{color:(0,r.default)(41),paddingLeft:o(13/16),marginLeft:0,borderLeft:o(3/16)+" solid #fca206"}),"blockquote > :last-child":{marginBottom:0},"blockquote cite":l({},n(t.baseFontSize),{color:t.bodyColor,fontWeight:t.bodyWeight}),"blockquote cite:before":{content:'"— "'}},b.MOBILE_MEDIA_QUERY,{blockquote:{marginLeft:o(-3/4),marginRight:0,paddingLeft:o(9/16)}})}};t.default=a},"Z94/":function(e,t){var n=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"==n.call(e)}},ZQPf:function(e,t,n){"use strict";n.r(t);n("q1tI");var i=n("52Oh"),l=n("FwpG"),o=n("k1TG"),r=n("8o2o"),b=n("7ljp"),a=n("izhR"),c=n("qKvR"),u={_frontmatter:{}};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)("wrapper",Object(o.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h1",null,"前言"),Object(b.b)("p",null,"我们收到部分论坛管理员的来信，希望我们能定制一款专属于他们论坛的应用。由于工作的繁忙以及安全问题，我们并未对此要求进行正面的答复。经过我们的测试和适配，我们很高兴的宣布在Discuz Hub 3.10版本后，我们支持了专属论坛的编译以及发布。"),Object(b.b)("h1",null,"使用许可"),Object(b.b)("p",null,"您需要同意下列条款以分发专属于单一论坛的应用"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(o.a)({parentName:"li"},{href:"/privacy_policy"}),"隐私政策")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(o.a)({parentName:"li"},{href:"/term_of_use"}),"使用条款"))),Object(b.b)(a.a,{mdxType:"Alert"},"我们理解到部分用户很少阅读条款，但是我们希望您浏览一次，以避免不必要的争端。"),Object(b.b)("h1",null,"举例说明"),Object(b.b)("p",null,"在接下来的内容中，我们谨以QZZN论坛为例，向你阐述如何分发自己论坛的专属应用。"),Object(b.b)("p",null,"QZZN论坛的网址是：",Object(b.b)("a",Object(o.a)({parentName:"p"},{href:"https://bbs.qzzn.com/"}),"https://bbs.qzzn.com/")),Object(b.b)(a.a,{mdxType:"Alert"},"我们，DiscuzHub，与QZZN论坛之间并无任何联系。相关功能不为任何个人及组织担保。详细信息请检查我们的使用条款。"),Object(b.b)("h1",null,"技术要求"),Object(b.b)("p",null,"你需要达到以下要求以完成对于专属应用的编译以及发布"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"一台支持Android studio的计算机"),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(o.a)({parentName:"li"},{href:"https://developer.android.com/studio"}),"Android studio"),"（大陆地区可以使用Google.cn开发者网站下载",Object(b.b)("a",Object(o.a)({parentName:"li"},{href:"https://developer.android.google.cn/studio"}),"https://developer.android.google.cn/studio"),"）"),Object(b.b)("li",{parentName:"ul"},"Git或者能够解压Zip压缩文件的软件")),Object(b.b)(a.a,{mdxType:"Alert"},"当您处于中国大陆区域时，从Android studio官网上下载可能非常缓慢。您可以使用Google中国开发者网站下载以获得更好的速度。"),Object(b.b)("h1",null,"准备"),Object(b.b)("p",null,"首先，你需要下载我们的Discuz Hub源代码。你可以使用："),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"git命令下载"),Object(b.b)("li",{parentName:"ul"},"从Github上下载zip打包的源代码")),Object(b.b)(a.a,{mdxType:"Alert"},"当您处于中国大陆区域时，使用Github下载可能非常缓慢。您可以使用代理服务以加速此过程。"),Object(b.b)("h2",null,"使用git命令"),Object(b.b)("p",null,"打开您的终端（Windows用户使用Win徽标键+R，在弹出的运行对话框中键入cmd并选择确定）"),Object(b.b)("p",null,"使用",Object(b.b)("inlineCode",{parentName:"p"},"cd"),"命令进入你想存放代码的文件夹"),Object(b.b)("h3",null,"使用HTTPS"),Object(b.b)("pre",null,Object(b.b)("code",Object(o.a)({parentName:"pre"},{}),"git clone https://github.com/kidozh/DiscuzHub.git\n")),Object(b.b)("h3",null,"使用SSH"),Object(b.b)("pre",null,Object(b.b)("code",Object(o.a)({parentName:"pre"},{}),"git clone git@github.com:kidozh/DiscuzHub.git\n")),Object(b.b)("h3",null,"使用Github CLI"),Object(b.b)("pre",null,Object(b.b)("code",Object(o.a)({parentName:"pre"},{}),"gh repo clone kidozh/DiscuzHub\n")),Object(b.b)("p",null,"等待终端执行命令后，完成Discuz源码的下载"),Object(b.b)("h2",null,"直接下载源码"),Object(b.b)("p",null,"使用浏览器打开我们的库：",Object(b.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/kidozh/DiscuzHub"}),"https://github.com/kidozh/DiscuzHub"),"，点击Code按钮，点击Download ZIP，等待下载完成。"),Object(b.b)("p",null,"将下载的源代码（文件名可能是DiscuzHub-master.zip）解压到您存放源代码的文件夹"),Object(b.b)("p",null,"这样你就完成了对于源代码的下载。接着你需要开始使用Android studio这个官方IDE编译此应用。"),Object(b.b)("h1",null,"使用Android studio"),Object(b.b)("p",null,"安装好应用后，你可能需要设置或下载一系列的软件和插件以能够编译Android应用。我们的工程目前是支持Android 11版本的，请选择并下载此版本的SDK以完成编译。"),Object(b.b)("p",null,"使用Android studio打开存放源代码的文件夹。"),Object(b.b)("h1",null,"自定义参数"),Object(b.b)("p",null,"我们的使用条款明确表明，使用我们的服务并不意味着您可以使用我们的图标，同时您的衍生服务也不应当干扰我们的正常服务，因此，您必须修改下面的内容以满足协议："),Object(b.b)("h2",null,"1. 修改应用名称"),Object(b.b)("p",null,'请在AndroidManifest.xml（路径：src\\main\\AndroidManifest.xml）文件中，修改application目录下的android:label这个值为您论坛的名称。例如android:label="QZZN论坛"'),Object(b.b)("h3",null,"国际化需求"),Object(b.b)("p",null,"我们理解到部分论坛可能具有国际化任务的需求，那么请维持AndroidManifest.xml文件的android:label这个值，转而修改string.xml文件的app_name这个值。我们谨以",Object(b.b)("strong",{parentName:"p"},"keylol.com"),"为例子。"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"keylol.com"),"中文名称为其乐，英文名称为keylol。"),Object(b.b)("p",null,"在默认英文字符串文件（strings.xml，路径src\\main\\res\\values\\strings.xml）中修改app_name为keylol，在中文字符串文件（src\\main\\res\\values-zh-rCN\\strings.xml）中修改app_name值为其乐。"),Object(b.b)(a.a,{mdxType:"Alert"},"我们，DiscuzHub，与其乐论坛（keylol.com）之间并无任何联系。"),Object(b.b)("h2",null,"2. 修改应用ID"),Object(b.b)("p",null,"应用ID相当于应用的身份证，一个应用应当只有一个ID。当相同的ID安装时，将会发生覆盖的情况，并且会干扰应用的运行。根据我们的使用条款且为了您的分发便利，您不应当使用我们的应用ID而应当转而使用自己的ID。我们以QZZN为例，其论坛使用的域名为bbs.qzzn.com，那么根据Google开发者指南推荐，你可以使用",Object(b.b)("strong",{parentName:"p"},"com.qzzn.bbs"),"为应用ID。"),Object(b.b)("p",null,'在模块的Gradle文件中，修改android选项下的defaultConfig中的applicationId为"com.qzzn.bbs"，示例如下：'),Object(b.b)("pre",null,Object(b.b)("code",Object(o.a)({parentName:"pre"},{}),'android {\n    compileSdkVersion 30\n    buildToolsVersion "29.0.3"\n    defaultConfig {\n        applicationId "com.qzzn.bbs"\n        minSdkVersion 23\n        targetSdkVersion 30\n        versionCode 31\n        versionName "3.10"\n        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"\n        manifestPlaceholders = [\n                discuz_title: "NOT_IMPLEMENTED",\n                discuz_base_url: "NOT_IMPLEMENTED",\n        ]\n    }\n    ...\n}\n')),Object(b.b)("p",null,"这样你就完成了applicationId的修改。"),Object(b.b)("h2",null,"修改构建类型的值"),Object(b.b)("p",null,"你可能观察到我们的构建类型（buildTypes）下包含了多个构建类型"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"release: 这个是我们分发Discuz Hub应用时的构建源，其支持多个论坛同时使用，这个不应当用于构建专属论坛。"),Object(b.b)("li",{parentName:"ul"},"debug：调试内容，这个不应用于生产环境"),Object(b.b)("li",{parentName:"ul"},"single：这个就是专属论坛使用的构建类型，在分发时，您应当选择此构建类型构建自己的应用并分发"),Object(b.b)("li",{parentName:"ul"},"qzzn：一个以qzzn论坛为例的构建类型")),Object(b.b)("p",null,"请修改single下的",Object(b.b)("strong",{parentName:"p"},"discuz_title"),"以及",Object(b.b)("strong",{parentName:"p"},"discuz_base_url"),"两个值。"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"discuz_title是论坛的名称，其将会被显示与开始页面，最终存入数据库的名称将以API为准"),Object(b.b)("li",{parentName:"ul"},"discuz_base_url是论坛的网址，这个参数非常重要，有的论坛服务在域名上（如bbs.qzzn.com）,有的论坛则有一个路径（如一亩三分地: ",Object(b.b)("a",Object(o.a)({parentName:"li"},{href:"https://www.1point3acres.com/bbs"}),"www.1point3acres.com/bbs"),"），你应当非常注意此值。同时网址也需要给上协议（如HTTP和HTTPS）。我们的应用虽然支持跳转，但是当你的论坛支持HTTPS协议时，请不要使用HTTP协议。")),Object(b.b)("p",null,"这样就完成了应用的修改，接着就可以开始应用的构建了。"),Object(b.b)("h1",null,"构建应用"),Object(b.b)("p",null,"和正常的Android程序一样，首先你需要使用gradle build一下整个项目。在导航栏中选择Build->Make Project完成项目的构建。"),Object(b.b)(a.a,{mdxType:"Alert"},"当您处于中国大陆区域时，使用Gradle编译Android应用可能非常缓慢甚至报错。您可以使用代理服务器以获得更好的速度。"),Object(b.b)("h1",null,"生成应用"),Object(b.b)("p",null,"在导航栏中选择Build->Generate Signed Bundle or APK，打开选中的框"),Object(b.b)("p",null,Object(b.b)("img",Object(o.a)({parentName:"p"},{src:"/static/doc-images/build-dialog.png",alt:"生成应用"}))),Object(b.b)("p",null,"选择你需要分发的应用类型，我们以分发APK为例，选择APK，点击Next。"),Object(b.b)("h2",null,"选择密钥库"),Object(b.b)("p",null,"当你首次生成安装文件时，你需要创建一个密钥库（keystore）对安装包进行加密，并验证你的身份。选择Create New以创建新的密钥库。如果你之前有密钥库，你可以选择Choose exisiting以选择密钥库。"),Object(b.b)(a.a,{mdxType:"Alert"},"密钥非常重要，它是验证发布者身份的重要凭证，请小心保管并做好备份。每次您分发应用时，都需要使用到此密钥。当您使用不一样的密钥签发同一Id应用时，将导致无法安装的情况。"),Object(b.b)("p",null,"选择密钥库并填上密钥和密码，点击Next。"),Object(b.b)("h3",null,"选择构建类型"),Object(b.b)("p",null,"请选择single，构建专属于您论坛的应用。建议同时选择上签名版本v1和v2。点击finish开始生成安装包apk。"),Object(b.b)("p",null,"等待生成完毕后，生成的APK文件就可以用于分发以及安装。"),Object(b.b)("p",null,"这样，你就完成了应用的构建"),Object(b.b)("h1",null,"后语"),Object(b.b)("p",null,"如若你有任何问题，你可以联系",Object(b.b)("a",Object(o.a)({parentName:"p"},{href:"mailto:kidozh@gmail.com"}),"kidozh@gmail.com"),"以获得帮助和支持。"),Object(b.b)(a.a,{mdxType:"Alert"},"请注意措辞和言行，开发者并未对此功能做出任何承诺和保证，同时开发者并不是你爹。若措辞不当或者发生消息滥用的情况，我们有权停止对你的服务和支持，并撤销使用和再分发许可。"))}s.isMDXComponent=!0;t.default=function(){var e=Object(i.a)();return Object(c.c)(l.a,{subject:e.formatMessage({id:"customize.customize_title"})},Object(c.c)(s,null))}},aZJH:function(e,t){function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}e.exports=function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=!1),"cool"===t?t=237:"slate"===t?t=122:"warm"===t&&(t=69),!n(t))throw new Error("Hue is not a number");if(!n(e))throw new Error("Lightness is not a number");e>100&&(e=100),e<0&&(e=0);var l=0;if(0!==t){l=19.92978+-.3651759*e+.001737214*Math.pow(e,2)}var o=0;return i?(o=e/100,e="100%,"):(o=(100-e)/100,e="0%,"),"hsla("+t+","+l+"%,"+e+o+")"}},aehL:function(e,t,n){(function(){var t,i;t=n("Z94/"),i={"minor second":16/15,"major second":9/8,"minor third":1.2,"major third":4/3,"augmented fourth":Math.sqrt(2),"perfect fifth":1.5,"minor sixth":1.6,golden:1.61803398875,phi:1.61803398875,"major sixth":5/3,"minor seventh":16/9,"major seventh":15/8,octave:2,"major tenth":2.5,"major eleventh":8/3,"major twelfth":3,"double octave":4},e.exports=function(e,n){var l;return null==e&&(e=0),null==n&&(n="golden"),l=t(n)?n:null!=i[n]?i[n]:i.golden,Math.pow(l,e)}}).call(this)},"ki+i":function(e,t,n){var i=n("B2PW"),l=n("TGkP"),o=function(e){return l(e)[1]},r=function(e){return l(e)[0]},b={baseFontSize:"16px",baseLineHeight:1.5,rhythmUnit:"rem",defaultRhythmBorderWidth:"1px",defaultRhythmBorderStyle:"solid",roundToNearestHalfLine:!0,minLinePadding:"2px"},a=function(e,t){var n,l=i(t.baseFontSize),o=r(l(e,"px")),b=r(t.baseLineHeightInPx),a=r(l(t.minLinePadding,"px"));return(n=t.roundToNearestHalfLine?Math.ceil(2*o/b)/2:Math.ceil(o/b))*b-o<2*a&&(n+=t.roundToNearestHalfLine?.5:1),n},c=function(e){var t=i(e.baseFontSize);return function(n,i,l){null==n&&(n=1),null==i&&(i=e.baseFontSize),null==l&&(l=0);var b=n*r(e.baseLineHeightInPx)-l+"px",a=t(b,e.rhythmUnit,i);return"px"===o(a)&&(a=Math.floor(r(a))+o(a)),parseFloat(r(a).toFixed(5))+o(a)}};e.exports=function(e){var t=JSON.parse(JSON.stringify(b)),n=Object.assign({},t,e),l=i(n.baseFontSize);return o(n.baseLineHeight)?(r(l(n.baseFontSize,"px")),n.baseLineHeightInPx=l(n.baseLineHeight,"px")):n.baseLineHeightInPx=r(n.baseFontSize)*n.baseLineHeight+"px",{rhythm:c(n),establishBaseline:function(){return function(e){return i(e.baseFontSize),{fontSize:r(e.baseFontSize)/16*100+"%",lineHeight:e.baseLineHeight.toString()}}(n)},linesForFontSize:function(e){return a(e,n)},adjustFontSizeTo:function(e,t,l){return null==t&&(t="auto"),function(e,t,n,l){null==n&&(n=l.baseFontSize),"%"===o(e)&&(e=r(l.baseFontSize)*(r(e)/100)+"px");var b=i(l.baseFontSize);e=b(e,"px",n=b(n,"px"));var u=c(l);return"auto"===t&&(t=a(e,l)),{fontSize:b(e,l.rhythmUnit,n),lineHeight:u(t,n)}}(e,t,l,n)}}}}}]);
//# sourceMappingURL=component---src-pages-customize-bbs-js-6bfaea606c7c5c31bb37.js.map