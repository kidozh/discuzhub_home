import { Card, Box, Grid, Image, Link, Alert, Message, Avatar } from 'theme-ui'

# 欢迎阅读我们的Discuz！兼容性指导

DiscuzHub能支持以Discuz！架构的论坛，但是在实践时可能遇到各种各样的问题。因此我们在这里向网页管理者提供一些的建议和指导，以使得论坛能够更好的展示在DiscuzHub上。

## 兼容性要求

因为DiscuzHub基于Discuz！的移动端协议，所以论坛网站需要满足以下要求以完成**正常**和**基本**的论坛显示。

+ 论坛需要以Discuz X为架构
+ Discuz版本大于X 3.2
+ 移动端API版本大于4
+ 安装并开启掌上论坛应用
+ 打开论坛**移动页面**并关闭防采集
+ 关闭其他可能会影响API访问的插件（已知的包括千帆网的插件）

### 如何开启移动界面

1. 使用**管理员**账号登录论坛 ![管理员登录](/static/images/forum_index.jpg)
2. 右上角的网页列表点击管理中心跳转到Discuz！管理中心 ![管理中心](/static/images/forum_admin_navbar.jpg)
3. 使用管理员账号登录Discuz!管理中心 ![登录管理中心](/static/images/admin_manage_panel.jpg)
4. 全局 -> 手机版访问设置 -> 开启手机版 -> 提交 ![打开移动界面](/static/images/open_mobile_function.jpg)

完成上述的操作就可以开启移动API，这样论坛网站就能基本被DiscuzHub检测并且解析

### 如何安装并开启掌上论坛应用

1. 使用**管理员**账号登录论坛 ![管理员登录](/static/images/forum_index.jpg)
2. 右上角的网页列表点击管理中心跳转到Discuz！管理中心 ![管理中心](/static/images/forum_admin_navbar.jpg)
3. 使用管理员账号登录Discuz!管理中心 ![登录管理中心](/static/images/admin_manage_panel.jpg)
4. 应用 -> 掌上论坛 -> 启用

### 如何关闭防采集

1. 使用管理员账号登录论坛  ![管理员登录](/static/images/forum_index.jpg)
2. 右上角的网页列表点击管理中心跳转到Discuz！管理中心 ![管理中心](/static/images/forum_admin_navbar.jpg)
3. 使用管理员账号登录Discuz!管理中心 ![登录管理中心](/static/images/admin_manage_panel.jpg)
4. 全局 -> 是否开启防采集 -> 否 -> 提交 ![登录管理中心](/static/images/anti_capture.jpg)

完成上述的操作就可以使得API能够被正常访问。

<Message>防采集机制使得我们在访问API时，需要解析JavaScript脚本后添加正常的Cookie然后重定向到真正的API页面，以获得正常的内容。然而出于安全性和兼容性的要求，我们并不会解析Javascript文件，因此防采集机制将会实质上阻止DiscuzHub获得正常的数据。</Message>

## 其他兼容性推荐

### 各个子论坛下的分类标签，请慎重使用&lt;font&gt;改变颜色

由于我们支持暗黑模式，因此，我们的标签背景色会随着设定的变化而变化。同时，我们也支持HTML的富文本显示。使用&lt;font&gt;标签改变颜色将会使得文字变得难以辨识，减弱用户的认知。因此，我们建议您不使用font标签来强调某个分类。

我们推荐您使用HTML中的表情符号来标识分类，例如：

+ 🤔 疑问
+ 😃 已解决
+ 🧐 正在研究
+ 🎉 好的建议
+ 🧧 福利
+ 💎 精华
+ 😎 EMMMMMMMM

### 颜色设置

许许多多论坛可能都会使用自定的颜色以标记或高亮某些字段。由于我们同时支持两套显示模式，请慎重使用深色/亮色来标记或者高亮字段。较黑或者白色会导致在夜间模式/日间模式时，因为与背景难以区分，应用无法很好的显示这些高亮字段。我们推荐您使用CSS规定颜色等属性，对于颜色的硬编码有可能导致不同显示情况下的显示差异问题。

目前我们使用的颜色系统为：


| 模式 | 主色 | 主暗色 | 强调色 |
| ---- | ---- | ---- | ---- |
| 日间模式 | <Avatar bg={"#3498DB"} /> #3498DB | <Avatar bg={"#2980B9"} /> #2980B9 |  <Avatar bg={"#E74C3C"} /> #E74C3C |
| 夜间模式 | <Avatar bg={"#BB86FC"} /> #BB86FC | <Avatar bg={"#8E24AA"} /> #8E24AA |  <Avatar bg={"#00796B"} /> #00796B |

您可以参考之后确定您的颜色是否和我们的颜色系统区分，以确保在您的高亮字体作为标签时，仍然能够正常的显示。

### 关于论坛图标的配置

我们留意到部分论坛在传递论坛图标的链接时，可能出现一个URL前缀。请仔细检查图标的链接是否指向正确，以免出现无法显示图标的问题。


## 联系我们

如果您对显示的问题和兼容性的问题存在意见和建议，请发送邮件至kidozh@gmail.com。我们将尽快解答您的疑问，并作出必要的修改。