{"componentChunkName":"component---src-templates-blog-post-js","path":"/en/dev-blog/discuz_api_upload_4_to_5/","result":{"data":{"site":{"siteMetadata":{"title":"Discuz Hub"}},"markdownRemark":{"id":"d2b9835c-7530-5d13-87be-dc2ca779a808","excerpt":"简介 我们最近收到来自一些论坛管理者的针对某些特定功能的来信，经过我们的调查，我们发现很多功能都在Discuz X掌上论坛的新版本中实现了，因此我们决定着手支持高级版本的掌上论坛API。因此我们再次请求各位论坛主升级API至…","frontmatter":{"title":"推荐升级Discuz X掌上论坛API","date":"October 17, 2020","description":null,"cover":"harbin-cathedral.jpg","excerpt":"我们推荐您将论坛默认4版本的掌上论坛API升级至5这个版本以获得更好的用户体验","keywords":["建议"],"tags":["建议"]},"html":"<h1>简介</h1>\n<p>我们最近收到来自一些论坛管理者的针对某些特定功能的来信，经过我们的调查，我们发现很多功能都在Discuz X掌上论坛的新版本中实现了，因此我们决定着手支持高级版本的掌上论坛API。因此我们再次请求各位论坛主升级API至5这个版本已实现更多的功能。</p>\n<p>我们目前已经接近完成了对于版本号为4的API的适配工作，我们正准备着手针对API5的支持，我们预计在2.7（也就是下个版本）着手针对5的功能支持。</p>\n<h1>升级步骤</h1>\n<ol>\n<li>转到<a href=\"https://github.com/Comsenz/Discuz-Api\">Github托管下的Discuz-API</a></li>\n<li>按照<code class=\"language-text\">README.md</code>的使用方法更新掌上论坛API</li>\n<li>完成更新</li>\n</ol>\n<h2>使用方法</h2>\n<p><strong>此文本于2020年10月17日取自Github README.md</strong></p>\n<blockquote>\n<h2>使用方法</h2>\n<ul>\n<li>修改配置文件，config_oauths.php， 将申请好的小程序 appkey appsecret 修改好</li>\n<li>把mobile目录覆盖(合并，注意不要<strong>替换</strong>否刚会把当前文件夹先删除换成现在的)discuz source/plugin/mobile目录</li>\n<li>进入论坛后台，进入应用，找到 <strong>掌上论坛</strong> 插件（如果没有启用先启用), 点后面的更新到1.5.1（最新版）</li>\n<li>进入论坛管理后台，全局->手机版访问设置->开启手机版（必须开启手机版，否则API无法正常使用）</li>\n<li>修改小程序配置文件，将域名换成您网站域名 小程序源码地址：<a href=\"https://github.com/Comsenz/Discuz-minapp\">https://github.com/Comsenz/Discuz-minapp</a></li>\n<li>上传小程序测试</li>\n<li>该接口也适用于App调用(支持QQ和微信登录)，APP源码地址：iOS <a href=\"https://github.com/Comsenz/Discuz-iOS\">https://github.com/Comsenz/Discuz-iOS</a> ，Android <a href=\"https://github.com/Comsenz/Discuz-Android\">https://github.com/Comsenz/Discuz-Android</a></li>\n</ul>\n</blockquote>\n<h1>会有什么变化</h1>\n<ul>\n<li>将会支持更多的功能</li>\n<li>能够保持对于API 4的兼容</li>\n</ul>\n<h1>API 5标识</h1>\n<p>我们将会在论坛中标识出<span style=\"color:var(--theme-ui-colors-background,#3498db)\">最新API</span>的支持。</p>\n<h1>更新计划</h1>\n<p>我们将会在内部测试后尽速发布2.6版本，这个版本将会适配目前API 4的大部分功能。</p>\n<p>如果您对于我们有任何建议、意见以及反馈，您可以通过<a href=\"/contact/\">联系方式</a>来联系我们。我们非常欢迎您的来信！</p>\n<p>感谢您的支持。</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E7%AE%80%E4%BB%8B\">简介</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%8D%87%E7%BA%A7%E6%AD%A5%E9%AA%A4\">升级步骤</a></p>\n<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\">使用方法</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%8F%98%E5%8C%96\">会有什么变化</a></p>\n</li>\n<li>\n<p><a href=\"#api-5%E6%A0%87%E8%AF%86\">API 5标识</a></p>\n</li>\n<li>\n<p><a href=\"#%E6%9B%B4%E6%96%B0%E8%AE%A1%E5%88%92\">更新计划</a></p>\n</li>\n</ul>","timeToRead":1}},"pageContext":{"slug":"/dev-blog/discuz_api_upload_4_to_5/","previous":{"fields":{"slug":"/dev-blog/remove-weiyun-release-channel/"},"frontmatter":{"title":"移除微云下载链接"}},"next":{"fields":{"slug":"/dev-blog/release-v2.6/"},"frontmatter":{"title":"2.6版本已发布"}},"language":"en","intl":{"language":"en","languages":["en","zh","zh-hk"],"messages":{"title":"Discuz Hub & DisFly","description":"Easy, lightweight and open-sourced android app for cross-platform mobile","intro.title":"Discuz Hub","intro.description":"Easy, lightweight and open-sourced android app for discuz! mobile","intro.function_annotate":"The bbs needs to turn on mobile page and disable native anti-spam filter","intro.download_by_github":"Download by Github release","intro.download_by_weiyun":"Download by Tencent Weiyun","intro.project_at_github":"DiscuzHub@Github","intro.lightweight":"Lightweight","intro.discuz_app":"Discuz! Android & iOS App","intro.disfly":"Provided by DisFly","intro.administrator_note":"You may use this link to make your bbs compatible with us!👉","intro.disfly_provider":"Provided by DisFly","feature.features":"Features","feature.lightweight":"Lightweight","feature.lightweight_annotate":"Apk is less than 20MB but still supports most discuz! operations","feature.open_source":"Open source","feature.open_source_annotate":"The project is open-sourced with MIT License and hosted at github","feature.android_support":"Android Q & iOS support","feature.android_support_annotate":"App is compatible with new Android & iOS features(Dark mode and permission etcs)","feature.green_android_convention_support":"Green android supports","feature.green_android_convention_support_annotate":"The app is designed coordinated with green android convention version 4.0","about.about":"About","about.about_description":"The project (Discuz Hub) is open-sourced with MIT License","about.roadmap":"Technology roadmap","about.roadmap_1":"Add record for personal historical threads and posts","about.roadmap_2":"Natively support seccode","contact.contact":"Contact","contact.contact_description":"You may contact me with the following links","contact.contact_1":"kidozh@gmail.com (Developer email)","contact.contact_2":"DiscuzHub@Github","contact.github_action_acknowledged":"Fork, star or pull request on the project are sincerely acknowledged.","contact.contact_us":"Contact us","contact.email":"Email","contact.github":"Github","contact.weibo":"Weibo","footer.copyright":"Copyrights","footer.copyright_rights_reserved":"All rights reserved","footer.docs_with":"Docs with ","footer.notice":"Notice","footer.links":"Links","footer.light":"Light","footer.dark":"Dark","author":"@kidozh","hello":"Hi people","notfound.header":"NOT FOUND","notfound.description":"You just hit a route that doesn't exist... the sadness. 🤔","nav.blog":"Blog","nav.contact":"Contact","nav.faq":"FAQ","nav.features":"Features","nav.privacy":"Privacy Policy","nav.terms_of_use":"Terms of Use","blog.blog":"Developer Blog","blog.blog_annotation":"🧐 will publish any update, policy, security and other neccessary information here in simplified Chinese.","blog.timeToReadUnit":"{min} Minutes","blog.publishTime":"Published {time}","blog.allPostCounts":"Total {posts} Posts","test-my-bbs.title":"Comaptibility test with discuz!","test-my-bbs.data-source-note":"The page will use your broswer as client to broswe API, please make sure your network is reachable","test-my-bbs.url":"URL","test-my-bbs.submit":"Submit","test-my-bbs.warn_suggestion":"Suggestion","test-my-bbs.warn_enter_to_check_problem":"Press enter key to get error information","test-my-bbs.warn_need_protocol":"You need to add HTTP or HTTPS protocol","test-my-bbs.api_full_text":"Target API : {fullApi}","test-my-bbs.url_example":"URL example","test-my-bbs.discuz_version":"Discuz! Version","test-my-bbs.charset":"Charset","test-my-bbs.api_version":"API Version","test-my-bbs.plugin_version":"Plugin Version","test-my-bbs.register_name":"Register name","test-my-bbs.qq_connect":"QQ connect","test-my-bbs.hide_register":"Hide registration","test-my-bbs.site_name":"Site name","test-my-bbs.site_id":"Site ID","test-my-bbs.ucenter_url":"Ucenter URL","test-my-bbs.default_fid":"Default forum ID","test-my-bbs.total_post":"Post number","test-my-bbs.total_members":"Member number","test-my-bbs.test_cookie":"Test Cookie","test-my-bbs.yes":"yes","test-my-bbs.no":"no","test-my-bbs.key":"Key","test-my-bbs.value":"Value","test-my-bbs.compatible":"Compatible","test-my-bbs.result_ok":"Get the response successfully","test-my-bbs.result_failed":"Failed to get response, code: {code}","test-my-bbs.raw_result":"Original result","test-my-bbs.attributes":"Attributes","test-my-bbs.redirect_by_cross_anywhere":"Redirect by cross anywhere","test-my-bbs.ajax_send_request":"Send request to {url}","test-my-bbs.bbs_pass_result":"The BBS passed with primary test but still needs further concern","test-my-bbs.bbs_not_pass_result":"Oops, your bbs cannot work with discuzHub","test-my-bbs.loading_data":"Loading data from server: {url}","test-my-bbs.app_add_guide":"You can add {name} to discuzHub by URL: {url}","test-my-bbs.redirect_to_dhpush_title":"Currently this page is not working anymore, please visit to DHPush for further function","test-my-bbs.redirect_to_dhpush_name":"DHPush compatibility checker","test-my-bbs.example":"Example","back_to_top":"Back to top","faq.faq":"FAQ","faq.faq_full":"Frequent Ask Question","privacy.privacy_policy":"Privacy Policy","privacy.welcome_to_read":"Welcome to read the privacy policy","term_of_service.term_of_service":"Terms of services","term_of_service.welcome_to_read":"Welcome to read the our terms of services","index.cross_platform_title":"Browse across most discuz! BBS","index.cross_platform_content":"Use DiscuzHub for most discuz! BBS - Native app for discussing, polling and friending","index.speed_and_performance_title":"Speed and performance","index.speed_and_performance_content":"Using up-to-date API and following green android convention, our app have very little size while maintaining most neccessary functions \n Discuzhub puts you in control over practice. Requring light-weight APIs and packages, the app can run smoothly on low-profile devices.","index.powerful_tool_title":"Powerful tool","index.powerful_tool_content":"By open-sourced packages, discuzhub now can handle variety of messages. Using Discuz! open native API, you can enjoy native services which ensures your data safety. Keep compatible and safe all on your browsing.","index.open_source_title":"Open source software","index.open_source_content":"Licensed by MIT, you can watch, change and redistribute software on your own. The software is on your oyster.","index.fork_on_github_title":"Contribute to us","index.fork_on_github_content":"Are you developer? Please feel free to star, fork and make pull request to us!","index.dhpush_installation":"Using DHPush to enable push service","index.any":"Cross most discuz! BBS","open_source.open_source_title":"Open source library","open_source.open_source_subtitle":"As a open source software, we build with these library","open_source.discuzHub_licence_description":"DiscuzHub is open-sourced with MIT Licence","compatibility.compatibility_title":"Compatible with Discuz Hub","compatibility.compatibility_subtitle":"The web administrator can better display BBS on DiscuzHub","compatibility.discuzHub_licence_description":"DiscuzHub","customize.customize_locally_title":"Build exclusive app in local computer","customize.customize_github_title":"Build delicate app with Github Action","customize.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","customize.discuzHub_licence_description":"DiscuzHub以MIT协议开源","add_bbs.add_bbs_title":"Guide for users to add a BBS","add_bbs.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","add_bbs.discuzHub_licence_description":"DiscuzHub以MIT协议开源","nightly_version.nightly":"Discuz Hub Nightly","nightly_version.nightly_title":"Take a Discuz Hub on the wild side.","nightly_version.nightly_subtitle":"Be among the first to explore future releases of Discuz Hub for Android.","nightly_version.nightly_build_title":"Build with Github action","nightly_version.nightly_build_description":"Get a sneak peek at our next generation Discuz Hub, and help us make it the best helper it can be: try Discuz Hub Nightly.","nightly_version.nightly_policy":"The app adheres to","nightly_version.and":"and","nightly_version.nightly_build_annotation":"Nightly is an unstable testing and development platform. Every time the source code is updated, the apk is automatically generated.","nightly_version.get_from_github":"Get it","nightly_version.report_bug_title":"See something that isn’t working? Let us know.","nightly_version.report_bug_description":"You can report it to us by issue and email.","nightly_version.report_bug_in_issue":"Launch an issue in github (recommended)","nightly_version.report_bug_via_email":"Email the developer","nightly_version.compatibility_subtitle":"版主可以使用下面的设置以更好地使你的论坛展示在DiscuzHub上","nightly_version.discuzHub_licence_description":"DiscuzHub以MIT协议开源","sponsor.sponsor":"Sponsor","sponsor.sponsor_title":"Sponsor Discuz Hub","sponsor.sponsor_description":"Discuz Hub is an open-source software licensed with MIT. It needs sponsoring when the whole project expands. You can sponsor us by the following link.","sponsor.alipay_title":"Scan the QR code to sponsor us","sponsor.alipay_subtitle":"Thanks a lot in advance for your sponsor.","sponsor.discuzHub_licence_description":"DiscuzHub以MIT协议开源"},"routed":true,"originalPath":"/dev-blog/discuz_api_upload_4_to_5/","redirect":true,"defaultLanguage":"zh"}}},"staticQueryHashes":["1453463915","1479120382","2744905544","3000541721"],"slicesMap":{}}