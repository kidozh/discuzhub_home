"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[767],{58344:function(t,e,s){s.r(e);var n=s(97326),i=s(94578),o=s(67294),a=s(88190),l=s(80795),r=s(84058);let u=function(t){function e(e){var s;return(s=t.call(this,e)||this).state={url:"",warn:"",apiResult:"",apiJSON:null,response:null,ok:!1,code:200,isLoading:!1},s.handleURLChange=s.handleURLChange.bind((0,n.Z)(s)),s.giveURLSuggestion=s.giveURLSuggestion.bind((0,n.Z)(s)),s.sendAjaxRequest=s.sendAjaxRequest.bind((0,n.Z)(s)),s.setCodeResult=s.setCodeResult.bind((0,n.Z)(s)),s.setResponseResult=s.setResponseResult.bind((0,n.Z)(s)),s}(0,i.Z)(e,t);var s=e.prototype;return s.handleURLChange=function(t){this.setState({url:t.target.value}),this.giveURLSuggestion()},s.checkURL=function(t){var e=t;return 1==new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/).test(e)},s.getFullApiUrl=function(t){return t+"/api/mobile/index.php?version=4&module=check"},s.setCodeResult=function(t,e){this.setState({apiResult:t,apiJSON:e})},s.clearResult=function(){this.setState({apiResult:null,apiJSON:null})},s.setResponseResult=function(t,e){this.setState({response:e,ok:t})},s.sendAjaxRequest=function(){const{intl:t}=this.props;this.clearResult();const e=this.getFullApiUrl(this.state.url);this.state.isLoading=!0,fetch("https://cors-anywhere.herokuapp.com/"+e,{method:"GET",credentials:"same-origin","X-Requested-With":"XMLHttpRequest"}).then((t=>(this.setState({ok:t.ok,code:t.status,isLoading:!1}),console.log(t),t.text()))).then((t=>{this.setCodeResult(t,null);var e=JSON.parse(t);console.log(t),console.log(e),this.setCodeResult(t,e),this.setState({ok:!0})})).catch((function(t){console.log(t)}))},s.checkBBSResultOk=function(){return null!=this.state.apiJSON&&null!=this.state.apiJSON.sitename},s.setURL=function(t){this.setState({url:t})},s.giveURLSuggestion=function(){const{intl:t}=this.props,e=this.state.url;e.startsWith("http://")||e.startsWith("https://")?this.checkURL(e)?this.setState({warn:""}):this.setState({warn:t.formatMessage({id:"test-my-bbs.warn_enter_to_check_problem"})}):this.setState({warn:t.formatMessage({id:"test-my-bbs.warn_need_protocol"})})},s.componentDidMount=function(){},s.render=function(){const{intl:t}=this.props;this.state.url,this.state;return o.createElement(a.Z,{subject:t.formatMessage({id:"test-my-bbs.title"})},o.createElement(l.rj,{sx:{textAlign:"center",mt:32,mb:32}},o.createElement("h1",null,t.formatMessage({id:"test-my-bbs.redirect_to_dhpush_title"})),o.createElement("h3",null,o.createElement("a",{href:"https://dhp.kidozh.com/check-compatibility"},t.formatMessage({id:"test-my-bbs.redirect_to_dhpush_name"})))))},e}(o.Component);e.default=(0,r.injectIntl)(u)}}]);
//# sourceMappingURL=component---src-pages-test-my-bbs-js-560a4afbd23d9c2ad5e0.js.map